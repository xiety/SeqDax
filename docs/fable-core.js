!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.fableCore=n.exports}}(this,function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return[e,t]}function u(e,t,n){return[e,t,n]}Object.defineProperty(e,"__esModule",{value:!0}),e.Tuple=o,e.Tuple3=u;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:null;return"undefined"==typeof e.__FABLE_CORE__&&(e.__FABLE_CORE__={types:new Map,symbols:{interfaces:Symbol("interfaces"),typeName:Symbol("typeName")}}),e.__FABLE_CORE__}(),f=c.symbols;e.Symbol=f;var d=e.Util=function(){function e(){i(this,e)}return e.setInterfaces=function(e,t,n){if(Array.isArray(t)&&t.length>0){var r=e[f.interfaces];if(Array.isArray(r))for(var i=0;i<t.length;i++)r.indexOf(t[i])==-1&&r.push(t[i]);else e[f.interfaces]=t}n&&(e[f.typeName]=n,c.types.set(n,e.constructor))},e.hasInterface=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Array.isArray(e[f.interfaces])&&e[f.interfaces].some(function(e){return n.indexOf(e)>=0})},e.getTypeFullName=function(e){return e.prototype&&e.prototype[f.typeName]?e.prototype[f.typeName]:e.name||"unknown"},e.getTypeNamespace=function(t){var n=e.getTypeFullName(t),r=n.lastIndexOf(".");return r>-1?n.substr(0,r):""},e.getTypeName=function(t){var n=e.getTypeFullName(t),r=n.lastIndexOf(".");return n.substr(r+1)},e.getRestParams=function(e,t){for(var n=e.length,r=Array(n>t?n-t:0),i=t;i<n;i++)r[i-t]=e[i];return r},e.toString=function(e){return null!=e&&"function"==typeof e.ToString?e.ToString():String(e)},e.equals=function(t,n){return null==t?null==n:null!=n&&(Object.getPrototypeOf(t)===Object.getPrototypeOf(n)&&(Array.isArray(t)||ArrayBuffer.isView(t)?t.length==n.length&&w.fold2(function(t,n,r){return t?e.equals(n,r):t},!0,t,n):t instanceof Date?v.equals(t,n):e.hasInterface(t,"System.IEquatable")?t.Equals(n):t===n))},e.compare=function(t,n){return null==t?null==n?0:-1:null==n?-1:Object.getPrototypeOf(t)!==Object.getPrototypeOf(n)?-1:Array.isArray(t)||ArrayBuffer.isView(t)?t.length!=n.length?t.length<n.length?-1:1:w.fold2(function(t,n,r){return 0!==t?t:e.compare(n,r)},0,t,n):e.hasInterface(t,"System.IComparable")?t.CompareTo(n):t<n?-1:t>n?1:0},e.equalsRecords=function(t,n){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++)if(!e.equals(t[r[i]],n[r[i]]))return!1;return!0},e.compareRecords=function(t,n){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=e.compare(t[r[i]],n[r[i]]);if(0!==o)return o}return 0},e.equalsUnions=function(t,n){if(t.Case!==n.Case)return!1;for(var r=0;r<t.Fields.length;r++)if(!e.equals(t.Fields[r],n.Fields[r]))return!1;return!0},e.compareUnions=function(t,n){var r=e.compare(t.Case,n.Case);if(0!==r)return r;for(var i=0;i<t.Fields.length;i++)if(r=e.compare(t.Fields[i],n.Fields[i]),0!==r)return r;return 0},e.createDisposable=function(e){var t={Dispose:e};return t[f.interfaces]=["System.IDisposable"],t},e.createObj=function(e){return w.fold(function(e,t){return e[t[0]]=t[1],e},{},e)},e}();d.toPlainJsObj=function(e){if(null!=e&&e.constructor!=Object){for(var t={},n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++)t[n[r]]=e[n[r]];var i=Object.getPrototypeOf(e);if(null!=i){n=Object.getOwnPropertyNames(i);for(var o=0;o<n.length;o++){var u=Object.getOwnPropertyDescriptor(i,n[o]);u.value?t[n[o]]=u.value:u.get&&(t[n[o]]=u.get.apply(e))}}return t}return e};var p=(e.Serialize=function(){function e(){i(this,e)}return e.toJson=function(e){return JSON.stringify(e,function(e,t){if(ArrayBuffer.isView(t))return Array.from(t);if(null!=t&&"object"===("undefined"==typeof t?"undefined":l(t))){if(t instanceof C||t instanceof O||t instanceof Set)return{$type:t[f.typeName]||"System.Collections.Generic.HashSet",$values:Array.from(t)};if(t instanceof E||t instanceof Map)return w.fold(function(e,t){return e[t[0]]=t[1],e},{$type:t[f.typeName]||"System.Collections.Generic.Dictionary"},t);if(t[f.typeName]){if(d.hasInterface(t,"FSharpUnion","FSharpRecord","FSharpException"))return Object.assign({$type:t[f.typeName]},t);for(var n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),i={$type:t[f.typeName]},o=0;o<r.length;o++){var u=Object.getOwnPropertyDescriptor(n,r[o]);u.get&&(i[r[o]]=u.get.apply(t))}return i}}return t})},e.ofJson=function(e,t){var n=JSON.parse(e,function(e,t){if(null==t)return t;if("object"!==("undefined"==typeof t?"undefined":l(t))||"string"!=typeof t.$type)return/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:[+-]\d{2}:\d{2}|Z)$/.test(t)?v.parse(t):t;var n=t.$type.replace("+","."),r=n.indexOf("`");if(r>-1?n=n.substr(0,r):(r=n.indexOf(","),n=r>-1?n.substr(0,r):n),"System.Collections.Generic.List"===n||n.indexOf("[]")===n.length-2)return t.$values;if("Microsoft.FSharp.Collections.FSharpList"===n)return C.ofArray(t.$values);if("Microsoft.FSharp.Collections.FSharpSet"==n)return O.create(t.$values);if("System.Collections.Generic.HashSet"==n)return new Set(t.$values);if("Microsoft.FSharp.Collections.FSharpMap"==n)return delete t.$type,E.create(Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]}));if("System.Collections.Generic.Dictionary"==n)return delete t.$type,new Map(Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]}));var i=c.types.get(n);return i?(delete t.$type,Object.assign(new i,t)):void 0});if(null!=n&&"function"==typeof t&&!(n instanceof t))throw"JSON is not of type "+t.name+": "+e;return n},e}(),e.GenericComparer=function e(t){i(this,e),this.Compare=t||d.compare});d.setInterfaces(p.prototype,["System.IComparer"],"Fable.Core.GenericComparer");var m=e.Choice=function(){function e(t,n){i(this,e),this.Case=t,this.Fields=n}return e.Choice1Of2=function(t){return new e("Choice1Of2",[t])},e.Choice2Of2=function(t){return new e("Choice2Of2",[t])},e.prototype.Equals=function(e){return d.equalsUnions(this,e)},e.prototype.CompareTo=function(e){return d.compareUnions(this,e)},s(e,[{key:"valueIfChoice1",get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null}},{key:"valueIfChoice2",get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null}}]),e}();d.setInterfaces(m.prototype,["FSharpUnion","System.IEquatable","System.IComparable"],"Microsoft.FSharp.Core.FSharpChoice");var y=e.TimeSpan=function(e){function t(){return i(this,t),n(this,e.apply(this,arguments))}return r(t,e),t.create=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4];switch(arguments.length){case 1:return this.fromTicks(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],i=0;break;default:e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4]||0}return 864e5*e+36e5*t+6e4*n+1e3*r+i},t.fromTicks=function(e){return e/1e4},t.fromDays=function(e){return t.create(e,0,0,0)},t.fromHours=function(e){return t.create(e,0,0)},t.fromMinutes=function(e){return t.create(0,e,0)},t.fromSeconds=function(e){return t.create(0,0,e)},t.days=function(e){return Math.floor(e/864e5)},t.hours=function(e){return Math.floor(e%864e5/36e5)},t.minutes=function(e){return Math.floor(e%36e5/6e4)},t.seconds=function(e){return Math.floor(e%6e4/1e3)},t.milliseconds=function(e){return Math.floor(e%1e3)},t.ticks=function(e){return 1e4*e},t.totalDays=function(e){return e/864e5},t.totalHours=function(e){return e/36e5},t.totalMinutes=function(e){return e/6e4},t.totalSeconds=function(e){return e/1e3},t.negate=function(e){return e*-1},t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t}(Number);y.compare=d.compare,y.compareTo=d.compare,y.duration=Math.abs;var h=e.DateKind=void 0;!function(e){e[e.UTC=1]="UTC",e[e.Local=2]="Local"}(h||(e.DateKind=h={}));var v=function(e){function t(){return i(this,t),n(this,e.apply(this,arguments))}return r(t,e),t.__changeKind=function(e,t){var n=void 0;return e.kind==t?e:(n=new Date(e.getTime()),n.kind=t,n)},t.__getValue=function(e,t){return e[(e.kind==h.UTC?"getUTC":"get")+t]()},t.minValue=function(){return t.parse(-864e13,1)},t.maxValue=function(){return t.parse(864e13,1)},t.parse=function(e,t){var n=null==e?new Date:new Date(e);if(isNaN(n.getTime()))throw"The string is not a valid Date.";return n.kind=t||("string"==typeof e&&"Z"==e.slice(-1)?h.UTC:h.Local),n},t.create=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5],u=arguments.length<=6||void 0===arguments[6]?0:arguments[6],a=arguments.length<=7||void 0===arguments[7]?h.Local:arguments[7],s=a===h.UTC?new Date(Date.UTC(e,t-1,n,r,i,o,u)):new Date(e,t-1,n,r,i,o,u);if(isNaN(s.getTime()))throw"The parameters describe an unrepresentable Date.";return s.kind=a,s},t.utcNow=function(){return t.parse(null,1)},t.today=function(){return t.date(t.now())},t.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},t.daysInMonth=function(e,n){return 2==n?t.isLeapYear(e)?29:28:n>=8?n%2==0?31:30:n%2==0?30:31},t.toUniversalTime=function(e){return t.__changeKind(e,1)},t.toLocalTime=function(e){return t.__changeKind(e,2)},t.timeOfDay=function(e){return y.create(0,t.hour(e),t.minute(e),t.second(e),t.millisecond(e))},t.date=function(e){return t.create(t.year(e),t.month(e),t.day(e),0,0,0,0,e.kind)},t.day=function(e){return t.__getValue(e,"Date")},t.hour=function(e){return t.__getValue(e,"Hours")},t.millisecond=function(e){return t.__getValue(e,"Milliseconds")},t.minute=function(e){return t.__getValue(e,"Minutes")},t.month=function(e){return t.__getValue(e,"Month")+1},t.second=function(e){return t.__getValue(e,"Seconds")},t.year=function(e){return t.__getValue(e,"FullYear")},t.ticks=function(e){return 1e4*(e.getTime()+62135604e6)},t.dayOfWeek=function(e){return t.__getValue(e,"Day")},t.dayOfYear=function(e){for(var n=t.year(e),r=t.month(e),i=t.day(e),o=1;o<r;o++)i+=t.daysInMonth(n,o);return i},t.add=function(e,n){return t.parse(e.getTime()+n,e.kind)},t.addDays=function(e,n){return t.parse(e.getTime()+864e5*n,e.kind)},t.addHours=function(e,n){return t.parse(e.getTime()+36e5*n,e.kind)},t.addMinutes=function(e,n){return t.parse(e.getTime()+6e4*n,e.kind)},t.addSeconds=function(e,n){return t.parse(e.getTime()+1e3*n,e.kind)},t.addMilliseconds=function(e,n){return t.parse(e.getTime()+n,e.kind)},t.addTicks=function(e,n){return t.parse(e.getTime()+n/1e4,e.kind)},t.addYears=function(e,n){var r=t.month(e),i=t.year(e)+n,o=t.daysInMonth(i,r),u=Math.min(o,t.day(e));return t.create(i,r,u,t.hour(e),t.minute(e),t.second(e),t.millisecond(e),e.kind)},t.addMonths=function(e,n){var r=t.month(e)+n,i=0,o=0;r>12?(i=r%12,o=Math.floor(r/12),r=i):r<1&&(i=12+r%12,o=Math.floor(r/12)+(12==i?-1:0),r=i);var u=t.year(e)+o,a=t.daysInMonth(u,r),s=Math.min(a,t.day(e));return t.create(u,r,s,t.hour(e),t.minute(e),t.second(e),t.millisecond(e),e.kind)},t.subtract=function(e,n){return"number"==typeof n?t.parse(e.getTime()-n,e.kind):e.getTime()-n.getTime()},t.toLongDateString=function(e){return e.toDateString()},t.toShortDateString=function(e){return e.toLocaleDateString()},t.toLongTimeString=function(e){return e.toLocaleTimeString()},t.toShortTimeString=function(e){return e.toLocaleTimeString().replace(/:\d\d(?!:)/,"")},t.equals=function(e,t){return e.getTime()==t.getTime()},t}(Date);v.now=v.parse,v.toBinary=v.ticks,v.compareTo=d.compare,v.compare=d.compare,v.op_Addition=v.add,v.op_Subtraction=v.subtract,e.Date=v;var F=e.Timer=function(){function e(t){i(this,e),this.Interval=t>0?t:100,this.AutoReset=!0,this._elapsed=new R}return e.prototype.Dispose=function(){this.Enabled=!1,this._isDisposed=!0},e.prototype.Close=function(){this.Dispose()},e.prototype.Start=function(){this.Enabled=!0},e.prototype.Stop=function(){this.Enabled=!1},s(e,[{key:"Elapsed",get:function(){return this._elapsed}},{key:"Enabled",get:function(){return this._enabled},set:function(e){var t=this;this._isDisposed||this._enabled==e||((this._enabled=e)?this.AutoReset?this._intervalId=setInterval(function(){t.AutoReset||(t.Enabled=!1),t._elapsed.Trigger(new Date)},this.Interval):this._timeoutId=setTimeout(function(){t.Enabled=!1,t._timeoutId=0,t.AutoReset&&(t.Enabled=!0),t._elapsed.Trigger(new Date)},this.Interval):(this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=0),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0)))}}]),e}();d.setInterfaces(F.prototype,["System.IDisposable"]);var S=function(){function e(){i(this,e)}return e.fsFormat=function(t){function n(e){return!(null===e||"object"!==("undefined"==typeof e?"undefined":l(e))||e instanceof Number||e instanceof String||e instanceof Boolean)}function r(t,r){return t.replace(e.fsFormatRegExp,function(t,i,o,u,a,s){switch(s){case"f":case"F":r=r.toFixed(a||6);break;case"g":case"G":r=r.toPrecision(a);break;case"e":case"E":r=r.toExponential(a);break;case"O":r=d.toString(r);break;case"A":try{r=JSON.stringify(r,function(e,t){return t&&t[Symbol.iterator]&&!Array.isArray(t)&&n(t)?Array.from(t):t})}catch(e){r="{"+Object.getOwnPropertyNames(r).map(function(e){return e+": "+String(r[e])}).join(", ")+"}"}}var l=o.indexOf("+")>=0&&parseInt(r)>=0;if(!isNaN(u=parseInt(u))){var c=u>=0&&o.indexOf("0")>=0?"0":" ";r=e.padLeft(r,Math.abs(u)-(l?1:0),c,u<0)}var f=i+(l?"+"+r:r);return f.replace(/%/g,"%%")})}function i(t){return function(n){var u=r(t,n);return e.fsFormatRegExp.test(u)?i(u):o(u.replace(/%%/g,"%"))}}var o=void 0;return function(n){return o=n,e.fsFormatRegExp.test(t)?i(t):o(t)}},e.format=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.replace(e.formatRegExp,function(t,n,i,o){var u=r[n],a=" ";if("number"==typeof u)switch((o||"").substring(0,1)){case"f":case"F":u=o.length>1?u.toFixed(o.substring(1)):u.toFixed(2);break;case"g":case"G":u=o.length>1?u.toPrecision(o.substring(1)):u.toPrecision();break;case"e":case"E":u=o.length>1?u.toExponential(o.substring(1)):u.toExponential();break;case"p":case"P":u=(o.length>1?(100*u).toFixed(o.substring(1)):(100*u).toFixed(2))+" %";break;default:var s=/^(0+)(\.0+)?$/.exec(o);if(null!=s){var l=0;null!=s[2]&&(u=u.toFixed(l=s[2].length-1)),i=","+(s[1].length+(l?l+1:0)).toString(),a="0"}else o&&(u=o)}else if(u instanceof Date)if(1===o.length)switch(o){case"D":u=u.toDateString();break;case"T":u=u.toLocaleTimeString();break;case"d":u=u.toLocaleDateString();break;case"t":u=u.toLocaleTimeString().replace(/:\d\d(?!:)/,"");break;case"o":case"O":if(u.kind===h.Local){var c=u.getTimezoneOffset()*-1;u=e.format("{0:yyyy-MM-dd}T{0:HH:mm}:{1:00.000}{2}{3:00}:{4:00}",u,v.second(u),c>=0?"+":"-",~~(c/60),c%60)}else u=u.toISOString()}else u=o.replace(/\w+/g,function(e){var t=e;switch(e.substring(0,1)){case"y":t=e.length<4?v.year(u)%100:v.year(u);break;case"h":t=u.getHours()>12?v.hour(u)%12:v.hour(u);break;case"M":t=v.month(u);break;case"d":t=v.day(u);break;case"H":t=v.hour(u);break;case"m":t=v.minute(u);break;case"s":t=v.second(u)}return t!==e&&t<10&&e.length>1&&(t="0"+t),t});return isNaN(i=parseInt((i||"").substring(1)))||(u=e.padLeft(u,Math.abs(i),a,i<0)),u})},e.endsWith=function(e,t){var n=e.lastIndexOf(t);return n>=0&&n==e.length-t.length},e.initialize=function(e,t){if(e<0)throw"String length must be non-negative";for(var n=new Array(e),r=0;r<e;r++)n[r]=t(r);return n.join("")},e.isNullOrEmpty=function(e){return"string"!=typeof e||0==e.length},e.isNullOrWhiteSpace=function(e){return"string"!=typeof e||/^\s*$/.test(e)},e.join=function(e,t){return t="string"==typeof t?d.getRestParams(arguments,1):t,(Array.isArray(t)?t:Array.from(t)).join(e)},e.newGuid=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},e.padLeft=function(e,t,n,r){n=n||" ",e=String(e),t-=e.length;for(var i=-1;++i<t;)e=r?e+n:n+e;return e},e.padRight=function(t,n,r){return e.padLeft(t,n,r,!0)},e.replace=function(e,t,n){return e.replace(new RegExp(b.escape(t),"g"),n)},e.replicate=function(t,n){return e.initialize(t,function(){return n})},e.split=function(e,t,n,r){if(n="number"==typeof n?n:null,r="number"==typeof r?r:null,n<0)throw"Count cannot be less than zero";if(0===n)return[];t=Array.isArray(t)?t:d.getRestParams(arguments,1),t=t.map(function(e){return b.escape(e)}),t=t.length>0?t:[" "];for(var i=void 0,o=0,u=[],a=new RegExp(t.join("|"),"g");(null==n||n>1)&&null!==(i=a.exec(e));)(!r||i.index-o>0)&&(n=null!=n?n-1:n,u.push(e.substring(o,i.index))),o=a.lastIndex;return(!r||e.length-o>0)&&u.push(e.substring(o)),u},e.trim=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("both"==t&&0==r.length)return e.trim();if("start"==t||"both"==t){var o=0==r.length?/^\s+/:new RegExp("^["+b.escape(r.join(""))+"]+");e=e.replace(o,"")}if("end"==t||"both"==t){var u=0==r.length?/\s+$/:new RegExp("["+b.escape(r.join(""))+"]+$");e=e.replace(u,"")}return e},e}();S.fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,S.formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,e.String=S;var b=function(){function e(){i(this,e)}return e.create=function(e,t){var n="g";return n+=1&t?"i":"",n+=2&t?"m":"",new RegExp(e,n)},e.escape=function(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},e.unescape=function(e){return e.replace(/\\([\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|])/g,"$1")},e.isMatch=function(t,n){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=t instanceof RegExp?(i=t,t=n,i.lastIndex=r,i):i=e.create(n,r);return i.test(t)},e.match=function(t,n){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=t instanceof RegExp?(i=t,t=n,i.lastIndex=r,i):i=e.create(n,r);return i.exec(t)},e.matches=function t(n,r){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=n instanceof RegExp?(o=n,n=r,o.lastIndex=i,o):o=e.create(r,i);if(!o.global)throw"Non-global RegExp";for(var u=void 0,t=[];null!==(u=o.exec(n));)t.push(u);return t},e.options=function e(t){var e=256;return e|=t.ignoreCase?1:0,e|=t.multiline?2:0},e.replace=function(t,n,r,i){function o(){var e=arguments[0];if(0!==i){i--;for(var t=[],n=arguments.length,o=0;o<n-2;o++)t.push(arguments[o]);t.index=arguments[n-2],t.input=arguments[n-1],e=r(t)}return e}var u=arguments.length<=4||void 0===arguments[4]?0:arguments[4];if("string"==typeof t){var a=t;t=e.create(n,i),n=a,i=void 0}if("function"==typeof r)return i=null==i?-1:i,n.substring(0,u)+n.substring(u).replace(t,o);if(null!=i){var s=void 0,l=n.substring(u),c=e.matches(t,l),f=c.length>i?(s=c[i-1],l.substring(0,s.index+s[0].length)):l;return n.substring(0,u)+f.replace(t,r)+n.substring(u+f.length)}return n.replace(t,r)},e.split=function(t,n,r){var i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if("string"==typeof t){var o=t;t=e.create(n,r),n=o,r=void 0}return n=n.substring(i),n.split(t,r)},e}();e.RegExp=b;var g=function(){function e(){i(this,e)}return e.addRangeInPlace=function(e,t){w.iterate(function(e){return t.push(e)},e)},e.copyTo=function(e,t,n,r,i){for(;i--;)n[r++]=e[t++]},e.partition=function(e,t){for(var n=[],r=[],i=0,u=0,a=0;a<t.length;a++)e(t[a])?n[i++]=t[a]:r[u++]=t[a];return o(n,r)},e.permute=function(e,t){for(var n=t.map(function(){return null}),r=new Array(t.length),i=0;i<t.length;i++){var o=e(i);if(o<0||o>=t.length)throw"Not a valid permutation";n[o]=t[i],r[o]=1}for(var u=0;u<t.length;u++)if(1!=r[u])throw"Not a valid permutation";return n},e.removeInPlace=function(e,t){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},e.setSlice=function(e,t,n,r){var i=(n||e.length-1)-t;if(ArrayBuffer.isView(e)&&r.length<=i)e.set(r,t);else for(var o=0|t,u=0;u<=i;o++,u++)e[o]=r[u]},e.sortInPlaceBy=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t.sort(function(t,r){return t=e(t),r=e(r),(t<r?-1:t==r?0:1)*n})},e.unzip=function(e){for(var t=new Array(e.length),n=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r][0],n[r]=e[r][1];return o(t,n)},e.unzip3=function(e){for(var t=new Array(e.length),n=new Array(e.length),r=new Array(e.length),i=0;i<e.length;i++)t[i]=e[i][0],n[i]=e[i][1],r[i]=e[i][2];return u(t,n,r)},e}();e.Array=g;var C=e.List=function(){function e(t,n){i(this,e),this.head=t,this.tail=n}return e.prototype.ToString=function(){return"["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){for(var t=this[Symbol.iterator](),n=e[Symbol.iterator](),r=0;;r++){var i=t.next(),o=n.next();if(i.done)return!!o.done;if(o.done)return!1;if(!d.equals(i.value,o.value))return!1}},e.prototype.CompareTo=function(e){for(var t=0,n=this[Symbol.iterator](),r=e[Symbol.iterator](),i=0;;i++){var o=n.next(),u=r.next();if(o.done)return u.done?t:-1;if(u.done)return 1;if(t=d.compare(o.value,u.value),0!=t)return t}},e.ofArray=function(t,n){for(var r=n||new e,i=t.length-1;i>=0;i--)r=new e(t[i],r);return r},e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}},e.prototype.append=function(t){return e.append(this,t)},e.append=function(t,n){return w.fold(function(t,n){return new e(n,t)},n,e.reverse(t))},e.prototype.choose=function(t,n){return e.choose(t,this)},e.choose=function(t,n){var r=w.fold(function(n,r){var i=t(r);return null!=i?new e(i,n):n},new e,n);return e.reverse(r)},e.prototype.collect=function(t){return e.collect(t,this)},e.collect=function(t,n){return w.fold(function(e,n){return e.append(t(n))},new e,n)},e.concat=function(t){return e.collect(function(e){return e},t)},e.prototype.filter=function(t){return e.filter(t,this)},e.filter=function(t,n){return e.reverse(w.fold(function(n,r){return t(r)?new e(r,n):n},new e,n))},e.prototype.where=function(t){return e.filter(t,this)},e.where=function(t,n){return e.filter(t,n)},e.initialize=function(t,n){if(t<0)throw"List length must be non-negative";for(var r=new e,i=1;i<=t;i++)r=new e(n(t-i),r);return r},e.prototype.map=function(t){return e.map(t,this)},e.map=function(t,n){return e.reverse(w.fold(function(n,r){return new e(t(r),n)},new e,n))},e.prototype.mapIndexed=function(t){return e.mapIndexed(t,this)},e.mapIndexed=function(t,n){return e.reverse(w.fold(function(n,r,i){return new e(t(i,r),n)},new e,n))},e.prototype.partition=function(t){return e.partition(t,this)},e.partition=function(t,n){return w.fold(function(n,r){var i=n[0],u=n[1];return t(r)?o(new e(r,i),u):o(i,new e(r,u))},o(new e,new e),e.reverse(n))},e.replicate=function(t,n){return e.initialize(t,function(){return n})},e.prototype.reverse=function(){return e.reverse(this)},e.reverse=function(t){return w.fold(function(t,n){return new e(n,t)},new e,t)},e.singleton=function(t){return new e(t,new e)},e.prototype.slice=function(t,n){return e.slice(t,n,this)},e.slice=function(t,n,r){var i=null==t,o=null==n;return e.reverse(w.fold(function(r,u,a){return(i||t<=a)&&(o||a<=n)?new e(u,r):r},new e,r))},e.unzip=function(t){return w.foldBack(function(t,n){return o(new e(t[0],n[0]),new e(t[1],n[1]))},t,o(new e,new e))},e.unzip3=function(t){return w.foldBack(function(t,n){return u(new e(t[0],n[0]),new e(t[1],n[1]),new e(t[2],n[2]))},t,u(new e,new e,new e))},s(e,[{key:"length",get:function(){return w.fold(function(e,t){return e+1},0,this)}}]),e}();d.setInterfaces(C.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpList");var w=e.Seq=function(){function e(){i(this,e)}return e.__failIfNone=function(e){if(null==e)throw"Seq did not contain any matching element";return e},e.toList=function(t){return e.foldBack(function(e,t){return new C(e,t)},t,new C)},e.ofList=function(t){return e.delay(function(){return e.unfold(function(e){return null!=e.tail?[e.head,e.tail]:null},t)})},e.ofArray=function(t){return e.delay(function(){return e.unfold(function(e){return e<t.length?[t[e],e+1]:null},0)})},e.append=function(t,n){return e.delay(function(){var r=!1,i=t[Symbol.iterator](),u=o(i,null);return e.unfold(function(){var e=void 0;if(!r){if(e=u[0].next(),!e.done)return[e.value,u];r=!0,u=[null,n[Symbol.iterator]()]}return e=u[1].next(),e.done?null:[e.value,u]},u)})},e.average=function(t){var n=1,r=e.reduce(function(e,t){return n++,e+t},t);return r/n},e.averageBy=function(t,n){var r=1,i=e.reduce(function(e,n){return r++,(2===r?t(e):e)+t(n)},n);return i/r},e.countBy=function(t,n){return e.map(function(t){return o(t[0],e.count(t[1]))},e.groupBy(t,n))},e.concat=function(t){return e.delay(function(){var n=t[Symbol.iterator](),r=null;return e.unfold(function(e){for(var t=!1;!t;)if(null==e){var i=n.next();i.done?t=!0:e=i.value[Symbol.iterator]()}else{var o=e.next();o.done?e=null:(r=o.value,t=!0)}return null!=e&&null!=r?[r,e]:null},null)})},e.collect=function(t,n){return e.concat(e.map(t,n))},e.choose=function(t,n){var r=function e(n){var r=n.next();if(!r.done){var i=t(r.value);return null!=i?o(i,n):e(n)}};return e.delay(function(){return e.unfold(function(e){return r(e)},n[Symbol.iterator]())})},e.compareWith=function(t,n,r){var i=e.tryFind(function(e){return 0!=e},e.map2(function(e,n){return t(e,n)},n,r));return null!=i?i:e.count(n)-e.count(r)},e.delay=function(e){return t({},Symbol.iterator,function(){return e()[Symbol.iterator]()})},e.distinctBy=function(t,n){return e.choose(function(e){return e[0]},e.scan(function(e,n){var r=e[1],i=t(n);return r.has(i)?o(null,r):o(n,O.add(i,r))},o(null,O.create()),n))},e.distinct=function(t){return e.distinctBy(function(e){return e},t)},e.empty=function(){return e.unfold(function(){})},e.enumerateWhile=function(t,n){return e.concat(e.unfold(function(){return t()?[n,!0]:null}))},e.enumerateThenFinally=function(t,n){return e.delay(function(){var r=void 0;try{r=t[Symbol.iterator]()}finally{n()}return e.unfold(function(e){try{var t=e.next();return t.done?null:[t.value,e]}finally{n()}},r)})},e.enumerateUsing=function(t,n){var r=!1,i=function(){r||(r=!0,t.Dispose())};try{return e.enumerateThenFinally(n(t),i)}finally{i()}},e.exactlyOne=function(e){var t=e[Symbol.iterator](),n=t.next();if(n.done)throw"Seq was empty";var r=t.next();if(!r.done)throw"Seq had multiple items";return n.value},e.except=function(t,n){var r=Array.from(t),i=function(e){return!r.some(function(t){return d.equals(t,e)})};return e.filter(i,n)},e.exists=function(e,t){function n(t){var r=t.next();return!r.done&&(e(r.value)||n(t))}return n(t[Symbol.iterator]())},e.exists2=function(e,t,n){function r(t,n){var i=t.next(),o=n.next();return!i.done&&!o.done&&(e(i.value,o.value)||r(t,n))}return r(t[Symbol.iterator](),n[Symbol.iterator]())},e.filter=function(t,n){function r(e){var n=e.next();if(!n.done)return t(n.value)?[n.value,e]:r(e)}return e.delay(function(){return e.unfold(r,n[Symbol.iterator]())})},e.where=function(t,n){return e.filter(t,n)},e.fold=function(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);for(var r=void 0,i=0,o=n[Symbol.iterator]();r=o.next(),!r.done;i++)t=e(t,r.value,i);return t},e.foldBack=function(e,t,n){for(var r=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),i=r.length-1;i>=0;i--)n=e(r[i],n,i);return n},e.fold2=function(e,t,n,r){for(var i=n[Symbol.iterator](),o=r[Symbol.iterator](),u=void 0,a=void 0,s=0;u=i.next(),a=o.next(),!u.done&&!a.done;s++)t=e(t,u.value,a.value,s);return t},e.foldBack2=function(e,t,n,r){for(var i=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),o=Array.isArray(n)||ArrayBuffer.isView(n)?n:Array.from(n),u=i.length-1;u>=0;u--)r=e(i[u],o[u],r,u);return r},e.forAll=function(t,n){return e.fold(function(e,n){return e&&t(n)},!0,n)},e.forAll2=function(t,n,r){return e.fold2(function(e,n,r){return e&&t(n,r)},!0,n,r)},e.groupBy=function(t,n){return e.fold(function(e,n){var r=t(n),i=E.tryFind(r,e);return E.add(r,null!=i?new C(n,i):C.singleton(n),e)},E.create(),n)},e.tryHead=function(e){var t=e[Symbol.iterator](),n=t.next();return n.done?null:n.value},e.head=function(t){return e.__failIfNone(e.tryHead(t))},e.initialize=function(t,n){return e.delay(function(){return e.unfold(function(e){return e<t?[n(e),e+1]:null},0)})},e.initializeInfinite=function(t){return e.delay(function(){return e.unfold(function(e){return[t(e),e+1]},0)})},e.tryItem=function(e,t){if(e<0)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return e<t.length?t[e]:null;for(var n=0,r=t[Symbol.iterator]();;n++){var i=r.next();if(i.done)return null;if(n===e)return i.value}},e.item=function(t,n){return e.__failIfNone(e.tryItem(t,n))},e.iterate=function(t,n){e.fold(function(e,n){return t(n)},null,n)},e.iterate2=function(t,n,r){e.fold2(function(e,n,r){return t(n,r)},null,n,r)},e.iterateIndexed=function(t,n){e.fold(function(e,n,r){return t(r,n)},null,n)},e.iterateIndexed2=function(t,n,r){e.fold2(function(e,n,r,i){return t(i,n,r)},null,n,r)},e.isEmpty=function(e){var t=e[Symbol.iterator]();return t.next().done},e.tryLast=function(t){try{return e.reduce(function(e,t){return t},t)}catch(e){return null}},e.last=function(t){return e.__failIfNone(e.tryLast(t))},e.count=function(t){return Array.isArray(t)||ArrayBuffer.isView(t)?t.length:e.fold(function(e,t){return e+1},0,t)},e.map=function(t,n){return e.delay(function(){return e.unfold(function(e){var n=e.next();return n.done?null:[t(n.value),e]},n[Symbol.iterator]())})},e.mapIndexed=function(t,n){return e.delay(function(){var r=0;return e.unfold(function(e){var n=e.next();return n.done?null:[t(r++,n.value),e]},n[Symbol.iterator]())})},e.map2=function(t,n,r){return e.delay(function(){var i=n[Symbol.iterator](),o=r[Symbol.iterator]();return e.unfold(function(){var e=i.next(),n=o.next();return e.done||n.done?null:[t(e.value,n.value),null]})})},e.mapIndexed2=function(t,n,r){return e.delay(function(){var i=0,o=n[Symbol.iterator](),u=r[Symbol.iterator]();return e.unfold(function(){var e=o.next(),n=u.next();return e.done||n.done?null:[t(i++,e.value,n.value),null]})})},e.map3=function(t,n,r,i){return e.delay(function(){var o=n[Symbol.iterator](),u=r[Symbol.iterator](),a=i[Symbol.iterator]();return e.unfold(function(){var e=o.next(),n=u.next(),r=a.next();return e.done||n.done||r.done?null:[t(e.value,n.value,r.value),null]})})},e.mapFold=function(e,t,n){for(var r=[],i=void 0,u=void 0,s=0,l=n[Symbol.iterator]();u=l.next(),!u.done;s++){var c=e(t,u.value),f=a(c,2);i=f[0],t=f[1],r.push(i)}return o(r,t)},e.mapFoldBack=function(e,t,n){for(var r=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),i=[],u=void 0,s=r.length-1;s>=0;s--){var l=e(r[s],n),c=a(l,2);
u=c[0],n=c[1],i.push(u)}return o(i,n)},e.max=function(t){return e.reduce(function(e,t){return 1===d.compare(e,t)?e:t},t)},e.maxBy=function(t,n){return e.reduce(function(e,n){return 1===d.compare(t(e),t(n))?e:n},n)},e.min=function(t){return e.reduce(function(e,t){return d.compare(e,t)===-1?e:t},t)},e.minBy=function(t,n){return e.reduce(function(e,n){return d.compare(t(e),t(n))===-1?e:n},n)},e.pairwise=function(t){return e.skip(1,e.scan(function(e,t){return o(e[1],t)},o(0,0),t))},e.permute=function(t,n){return e.ofArray(g.permute(t,Array.from(n)))},e.rangeStep=function(t,n,r){if(0===n)throw"Step cannot be 0";return e.unfold(function(e){return n>0&&e<=r||n<0&&e>=r?[e,e+n]:null},t)},e.rangeChar=function(t,n){return e.unfold(function(e){return e<=n?[e,String.fromCharCode(e.charCodeAt(0)+1)]:null},t)},e.range=function(t,n){return e.rangeStep(t,1,n)},e.readOnly=function(t){return e.map(function(e){return e},t)},e.reduce=function(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);var n=t[Symbol.iterator](),r=n.next();if(r.done)throw"Seq was empty";for(var i=r.value;r=n.next(),!r.done;)i=e(i,r.value);return i},e.reduceBack=function(e,t){var n=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t);if(0===n.length)throw"Seq was empty";for(var r=n[n.length-1],i=n.length-2;i>=0;i--)r=e(n[i],r,i);return r},e.replicate=function(t,n){return e.initialize(t,function(){return n})},e.reverse=function(t){var n=Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):Array.from(t);return e.ofArray(n.reverse())},e.scan=function(t,n,r){return e.delay(function(){var i=r[Symbol.iterator]();return e.unfold(function(e){if(null==e)return[n,n];var r=i.next();return r.done?void 0:(e=t(e,r.value),[e,e])},null)})},e.scanBack=function(t,n,r){return e.reverse(e.scan(function(e,n){return t(n,e)},r,e.reverse(n)))},e.singleton=function(t){return e.unfold(function(e){return null!=e?[e,null]:null},t)},e.skip=function(e,n){return t({},Symbol.iterator,function(){for(var t=n[Symbol.iterator](),r=1;r<=e;r++)if(t.next().done)throw"Seq has not enough elements";return t})},e.skipWhile=function(t,n){return e.delay(function(){var r=!1;return e.filter(function(e){return r||(r=!t(e))},n)})},e.sortWith=function(t,n){var r=Array.from(n);return e.ofArray(r.sort(t))},e.sum=function(t){return e.fold(function(e,t){return e+t},0,t)},e.sumBy=function(t,n){return e.fold(function(e,n){return e+t(n)},0,n)},e.tail=function(e){var n=e[Symbol.iterator](),r=n.next();if(r.done)throw"Seq was empty";return t({},Symbol.iterator,function(){return n})},e.take=function(t,n){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return e.delay(function(){var i=n[Symbol.iterator]();return e.unfold(function(e){if(e<t){var n=i.next();if(!n.done)return[n.value,e+1];if(!r)throw"Seq has not enough elements"}},0)})},e.truncate=function(t,n){return e.take(t,n,!0)},e.takeWhile=function(t,n){return e.delay(function(){var r=n[Symbol.iterator]();return e.unfold(function(e){var n=r.next();if(!n.done&&t(n.value))return[n.value,null]},0)})},e.tryFind=function(e,t,n){for(var r=0,i=t[Symbol.iterator]();;r++){var o=i.next();if(o.done)return void 0===n?null:n;if(e(o.value,r))return o.value}},e.find=function(t,n){return e.__failIfNone(e.tryFind(t,n))},e.tryFindBack=function(e,t,n){for(var r=null,i=0,o=t[Symbol.iterator]();;i++){var u=o.next();if(u.done)return null===r?void 0===n?null:n:r;e(u.value,i)&&(r=u.value)}},e.findBack=function(t,n){return e.__failIfNone(e.tryFindBack(t,n))},e.tryFindIndex=function(e,t){for(var n=0,r=t[Symbol.iterator]();;n++){var i=r.next();if(i.done)return null;if(e(i.value,n))return n}},e.findIndex=function(t,n){return e.__failIfNone(e.tryFindIndex(t,n))},e.tryFindIndexBack=function(e,t){for(var n=-1,r=0,i=t[Symbol.iterator]();;r++){var o=i.next();if(o.done)return n===-1?null:n;e(o.value,r)&&(n=r)}},e.findIndexBack=function(t,n){return e.__failIfNone(e.tryFindIndexBack(t,n))},e.tryPick=function(e,t){for(var n=0,r=t[Symbol.iterator]();;n++){var i=r.next();if(i.done)break;var o=e(i.value,n);if(null!=o)return o}},e.pick=function(t,n){return e.__failIfNone(e.tryPick(t,n))},e.unfold=function(e,n){return t({},Symbol.iterator,function(){return{next:function(){var t=e(n);return null!=t?(n=t[1],{done:!1,value:t[0]}):{done:!0}}}})},e.zip=function(t,n){return e.map2(function(e,t){return[e,t]},t,n)},e.zip3=function(t,n,r){return e.map3(function(e,t,n){return[e,t,n]},t,n,r)},e}(),x=function(){function e(t,n){i(this,e),this.Case=t,this.Fields=n}return e.countAux=function(t,n){return"SetOne"===t.Case?n+1:"SetEmpty"===t.Case?n:e.countAux(t.Fields[1],e.countAux(t.Fields[2],n+1))},e.count=function(t){return e.countAux(t,0)},e.SetOne=function(t){return new e("SetOne",[t])},e.SetNode=function(t,n,r,i){return new e("SetNode",[t,n,r,i])},e.height=function(e){return"SetOne"===e.Case?1:"SetNode"===e.Case?e.Fields[3]:0},e.mk=function(t,n,r){var i=[t,r],o=function(){var i=e.height(t),o=e.height(r),u=i<o?o:i;return e.SetNode(n,t,r,u+1)};return"SetEmpty"===i[0].Case&&"SetEmpty"===i[1].Case?e.SetOne(n):o()},e.rebalance=function(t,n,r){var i=e.height(t),o=e.height(r);if(o>i+e.tolerance){if("SetNode"===r.Case){if(e.height(r.Fields[1])>i+1){if("SetNode"===r.Fields[1].Case)return e.mk(e.mk(t,n,r.Fields[1].Fields[1]),r.Fields[1].Fields[0],e.mk(r.Fields[1].Fields[2],r.Fields[0],r.Fields[2]));throw"rebalance"}return e.mk(e.mk(t,n,r.Fields[1]),r.Fields[0],r.Fields[2])}throw"rebalance"}if(i>o+e.tolerance){if("SetNode"===t.Case){if(e.height(t.Fields[2])>o+1){if("SetNode"===t.Fields[2].Case)return e.mk(e.mk(t.Fields[1],t.Fields[0],t.Fields[2].Fields[1]),t.Fields[2].Fields[0],e.mk(t.Fields[2].Fields[2],n,r));throw"rebalance"}return e.mk(t.Fields[1],t.Fields[0],e.mk(t.Fields[2],n,r))}throw"rebalance"}return e.mk(t,n,r)},e.add=function(t,n,r){return"SetOne"===r.Case?function(){var i=t.Compare(n,r.Fields[0]);return i<0?e.SetNode(n,new e("SetEmpty",[]),r,2):0===i?r:e.SetNode(n,r,new e("SetEmpty",[]),2)}():"SetEmpty"===r.Case?e.SetOne(n):function(){var i=t.Compare(n,r.Fields[0]);return i<0?e.rebalance(e.add(t,n,r.Fields[1]),r.Fields[0],r.Fields[2]):0===i?r:e.rebalance(r.Fields[1],r.Fields[0],e.add(t,n,r.Fields[2]))}()},e.balance=function(t,n,r,i){var o=[n,i],u=function(n){return e.add(t,r,n)},a=function(n,i){return e.add(t,r,e.add(t,n,i))};if("SetOne"===o[0].Case)return"SetEmpty"===o[1].Case?u(o[0]):"SetOne"===o[1].Case?a(o[0].Fields[0],o[1]):a(o[0].Fields[0],o[1]);if("SetNode"===o[0].Case){if("SetOne"===o[1].Case){var s=o[1].Fields[0],l=o[0];return e.add(t,r,e.add(t,s,l))}if("SetNode"===o[1].Case){var c=o[0].Fields[3],f=o[1].Fields[3],d=o[0].Fields[0],s=o[1].Fields[0],p=o[0].Fields[1],m=o[0].Fields[2],y=o[1].Fields[1],h=o[1].Fields[2];return c+e.tolerance<f?e.rebalance(e.balance(t,n,r,y),s,h):f+e.tolerance<c?e.rebalance(p,d,e.balance(t,m,r,i)):e.mk(n,r,i)}return u(o[0])}var v=o[1];return e.add(t,r,v)},e.split=function(t,n,r){return"SetOne"===r.Case?function(){var i=t.Compare(r.Fields[0],n);return i<0?[r,!1,new e("SetEmpty",[])]:0===i?[new e("SetEmpty",[]),!0,new e("SetEmpty",[])]:[new e("SetEmpty",[]),!1,r]}():"SetEmpty"===r.Case?[new e("SetEmpty",[]),!1,new e("SetEmpty",[])]:function(){var i=t.Compare(n,r.Fields[0]);if(i<0){var o=e.split(t,n,r.Fields[1]),u=o[0],a=o[2],s=o[1];return[u,s,e.balance(t,a,r.Fields[0],r.Fields[2])]}if(0===i)return[r.Fields[1],!0,r.Fields[2]];var o=e.split(t,n,r.Fields[2]),l=o[0],c=o[2],s=o[1];return[e.balance(t,r.Fields[1],r.Fields[0],l),s,c]}()},e.spliceOutSuccessor=function(t){return"SetOne"===t.Case?[t.Fields[0],new e("SetEmpty",[])]:"SetNode"===t.Case?"SetEmpty"===t.Fields[1].Case?[t.Fields[0],t.Fields[2]]:function(){var n=e.spliceOutSuccessor(t.Fields[1]),r=n[1],i=n[0];return[i,e.mk(r,t.Fields[0],t.Fields[2])]}():function(){throw"internal error: Map.spliceOutSuccessor"}()},e.remove=function(t,n,r){return"SetOne"===r.Case?function(){var i=t.Compare(n,r.Fields[0]);return 0===i?new e("SetEmpty",[]):r}():"SetNode"===r.Case?function(){var i=t.Compare(n,r.Fields[0]);if(i<0)return e.rebalance(e.remove(t,n,r.Fields[1]),r.Fields[0],r.Fields[2]);if(0===i){var o=[r.Fields[1],r.Fields[2]];if("SetEmpty"===o[0].Case)return r.Fields[2];if("SetEmpty"===o[1].Case)return r.Fields[1];var u=e.spliceOutSuccessor(r.Fields[2]),a=u[0],s=u[1];return e.mk(r.Fields[1],a,s)}return e.rebalance(r.Fields[1],r.Fields[0],e.remove(t,n,r.Fields[2]))}():r},e.mem=function(t,n,r){return"SetOne"===r.Case?0===t.Compare(n,r.Fields[0]):"SetEmpty"!==r.Case&&function(){var i=t.Compare(n,r.Fields[0]);return i<0?e.mem(t,n,r.Fields[1]):0===i||e.mem(t,n,r.Fields[2])}()},e.iter=function(t,n){"SetOne"===n.Case?t(n.Fields[0]):"SetEmpty"===n.Case||(e.iter(t,n.Fields[1]),t(n.Fields[0]),e.iter(t,n.Fields[2]))},e.foldBack=function(t,n,r){return"SetOne"===n.Case?t(n.Fields[0],r):"SetEmpty"===n.Case?r:e.foldBack(t,n.Fields[1],t(n.Fields[0],e.foldBack(t,n.Fields[2],r)))},e.fold=function(t,n,r){return"SetOne"===r.Case?t(n,r.Fields[0]):"SetEmpty"===r.Case?n:function(){var i=e.fold(t,n,r.Fields[1]),o=t(i,r.Fields[0]);return e.fold(t,o,r.Fields[2])}()},e.forall=function(t,n){return"SetOne"===n.Case?t(n.Fields[0]):"SetEmpty"===n.Case||!(!t(n.Fields[0])||!e.forall(t,n.Fields[1]))&&e.forall(t,n.Fields[2])},e.exists=function(t,n){return"SetOne"===n.Case?t(n.Fields[0]):"SetEmpty"!==n.Case&&(!(!t(n.Fields[0])&&!e.exists(t,n.Fields[1]))||e.exists(t,n.Fields[2]))},e.isEmpty=function(e){return"SetEmpty"===e.Case},e.subset=function(t,n,r){return e.forall(function(n){return e.mem(t,n,r)},n)},e.psubset=function(t,n,r){return!!e.forall(function(n){return e.mem(t,n,r)},n)&&e.exists(function(r){return!e.mem(t,r,n)},r)},e.filterAux=function(t,n,r,i){return"SetOne"===r.Case?n(r.Fields[0])?e.add(t,r.Fields[0],i):i:"SetEmpty"===r.Case?i:function(){var o=n(r.Fields[0])?e.add(t,r.Fields[0],i):i;return e.filterAux(t,n,r.Fields[1],e.filterAux(t,n,r.Fields[2],o))}()},e.filter=function(t,n,r){return e.filterAux(t,n,r,new e("SetEmpty",[]))},e.diffAux=function(t,n,r){return"SetOne"===n.Case?e.remove(t,n.Fields[0],r):"SetEmpty"===n.Case?r:e.diffAux(t,n.Fields[1],e.diffAux(t,n.Fields[2],e.remove(t,n.Fields[0],r)))},e.diff=function(t,n,r){return e.diffAux(t,r,n)},e.union=function(t,n,r){var i=[n,r],o=function(e){return e},u=function(n,r){return e.add(t,n,r)};if("SetEmpty"===i[0].Case){var a=i[1];return a}if("SetOne"===i[0].Case)return"SetEmpty"===i[1].Case?o(i[0]):"SetOne"===i[1].Case?u(i[0].Fields[0],i[1]):u(i[0].Fields[0],i[1]);if("SetEmpty"===i[1].Case)return o(i[0]);if("SetOne"===i[1].Case){var s=i[1].Fields[0],l=i[0];return e.add(t,s,l)}var c=i[0].Fields[3],f=i[1].Fields[3],d=i[0].Fields[0],s=i[1].Fields[0],p=i[0].Fields[1],m=i[0].Fields[2],y=i[1].Fields[1],h=i[1].Fields[2];if(c>f){var v=e.split(t,d,r),F=v[0],S=v[2];return e.balance(t,e.union(t,p,F),d,e.union(t,m,S))}var v=e.split(t,s,n),F=v[0],S=v[2];return e.balance(t,e.union(t,y,F),s,e.union(t,h,S))},e.intersectionAux=function(t,n,r,i){return"SetOne"===r.Case?e.mem(t,r.Fields[0],n)?e.add(t,r.Fields[0],i):i:"SetEmpty"===r.Case?i:function(){var o=e.intersectionAux(t,n,r.Fields[2],i),u=e.mem(t,r.Fields[0],n)?e.add(t,r.Fields[0],o):o;return e.intersectionAux(t,n,r.Fields[1],u)}()},e.intersection=function(t,n,r){return e.intersectionAux(t,r,n,new e("SetEmpty",[]))},e.partition1=function(t,n,r,i,o){return n(r)?[e.add(t,r,i),o]:[i,e.add(t,r,o)]},e.partitionAux=function(t,n,r,i,o){var u=[i,o];if("SetOne"===r.Case){var a=u[0],s=u[1];return e.partition1(t,n,r.Fields[0],a,s)}if("SetEmpty"===r.Case)return u;var l=function(){var i=u[0],o=u[1];return e.partitionAux(t,n,r.Fields[2],i,o)}(),c=function(){var i=l[0],o=l[1];return e.partition1(t,n,r.Fields[0],i,o)}(),f=c[0],d=c[1];return e.partitionAux(t,n,r.Fields[1],f,d)},e.partition=function(t,n,r){var i=[new e("SetEmpty",[]),new e("SetEmpty",[])],o=i[0],u=i[1];return e.partitionAux(t,n,r,o,u)},e.minimumElementAux=function(t,n){return"SetOne"===t.Case?t.Fields[0]:"SetEmpty"===t.Case?n:e.minimumElementAux(t.Fields[1],t.Fields[0])},e.minimumElementOpt=function(t){return"SetOne"===t.Case?t.Fields[0]:"SetEmpty"===t.Case?null:e.minimumElementAux(t.Fields[1],t.Fields[0])},e.maximumElementAux=function(t,n){return"SetOne"===t.Case?t.Fields[0]:"SetEmpty"===t.Case?n:e.maximumElementAux(t.Fields[2],t.Fields[0])},e.maximumElementOpt=function(t){return"SetOne"===t.Case?t.Fields[0]:"SetEmpty"===t.Case?null:e.maximumElementAux(t.Fields[2],t.Fields[0])},e.minimumElement=function(t){var n=e.minimumElementOpt(t);if(null==n)throw"Set contains no elements";return n},e.maximumElement=function(t){var n=e.maximumElementOpt(t);if(null==n)throw"Set contains no elements";return n},e.collapseLHS=function(t){return null!=t.tail?"SetOne"===t.head.Case?t:"SetNode"===t.head.Case?e.collapseLHS(C.ofArray([t.head.Fields[1],e.SetOne(t.head.Fields[0]),t.head.Fields[2]],t.tail)):e.collapseLHS(t.tail):new C},e.mkIterator=function(t){return{stack:e.collapseLHS(new C(t,new C)),started:!1}},e.moveNext=function(t){function n(e){if(null==e.stack.tail)return null;if("SetOne"===e.stack.head.Case)return e.stack.head.Fields[0];throw"Please report error: Set iterator, unexpected stack for current"}if(t.started){if(null==t.stack.tail)return{done:!0};if("SetOne"===t.stack.head.Case)return t.stack=e.collapseLHS(t.stack.tail),{done:null==t.stack.tail,value:n(t)};throw"Please report error: Set iterator, unexpected stack for moveNext"}return t.started=!0,{done:null==t.stack.tail,value:n(t)}},e.compareStacks=function(t,n,r){var i=function(n,i){return e.compareStacks(t,C.ofArray([new e("SetEmpty",[]),e.SetOne(n)],i),r)},o=function(n,i,o,u){return e.compareStacks(t,C.ofArray([i,e.SetNode(n,new e("SetEmpty",[]),o,0)],u),r)},u=function(r,i,o,u){return e.compareStacks(t,n,C.ofArray([i,e.SetNode(r,new e("SetEmpty",[]),o,0)],u))};if(null!=n.tail){if(null!=r.tail){if("SetOne"===r.head.Case){if("SetOne"===n.head.Case){var a=n.head.Fields[0],s=r.head.Fields[0],l=n.tail,c=r.tail,f=t.Compare(a,s);return 0!==f?f:e.compareStacks(t,l,c)}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){var d=n.head.Fields[1],p=n.head.Fields[0],m=n.head.Fields[2],y=r.head.Fields[0],h=n.tail,v=r.tail,F=t.Compare(p,y);return 0!==F?F:e.compareStacks(t,C.ofArray([m],h),C.ofArray([d],v))}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}var S=r.head.Fields[0],b=r.tail;return e.compareStacks(t,n,C.ofArray([new e("SetEmpty",[]),e.SetOne(S)],b))}if("SetNode"===r.head.Case){if("SetEmpty"===r.head.Fields[1].Case){if("SetOne"===n.head.Case){var g=n.head.Fields[0],w=r.head.Fields[0],x=r.head.Fields[2],O=n.tail,k=r.tail,E=t.Compare(g,w);return 0!==E?E:e.compareStacks(t,C.ofArray([new e("SetEmpty",[])],O),C.ofArray([x],k))}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){var A=n.head.Fields[0],_=n.head.Fields[2],N=r.head.Fields[0],M=r.head.Fields[2],I=n.tail,T=r.tail,P=t.Compare(A,N);return 0!==P?P:e.compareStacks(t,C.ofArray([_],I),C.ofArray([M],T))}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return u(r.head.Fields[0],r.head.Fields[1],r.head.Fields[2],r.tail)}return"SetOne"===n.head.Case?i(n.head.Fields[0],n.tail):"SetNode"===n.head.Case?o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail):u(r.head.Fields[0],r.head.Fields[1],r.head.Fields[2],r.tail)}return"SetOne"===n.head.Case?i(n.head.Fields[0],n.tail):"SetNode"===n.head.Case?o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail):e.compareStacks(t,n.tail,r.tail)}return 1}return null!=r.tail?-1:0},e.compare=function(t,n,r){return"SetEmpty"===n.Case?"SetEmpty"===r.Case?0:-1:"SetEmpty"===r.Case?1:e.compareStacks(t,C.ofArray([n]),C.ofArray([r]))},e.mkFromEnumerator=function(t,n,r){for(var i=r.next();!i.done;)n=e.add(t,i.value,n),i=r.next();return n},e.ofSeq=function(t,n){var r=n[Symbol.iterator]();return e.mkFromEnumerator(t,new e("SetEmpty",[]),r)},e}();x.tolerance=2;var O=function(){function e(){i(this,e)}return e.from=function(t,n){var r=new e;return r.tree=n,r.comparer=t||new p,r},e.create=function(t,n){return n=n||new p,e.from(n,t?x.ofSeq(n,t):new x("SetEmpty",[]))},e.prototype.ToString=function(){return"set ["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){return x.compare(this.comparer,this.tree,e.tree)},e.prototype[Symbol.iterator]=function(){var e=x.mkIterator(this.tree);return{next:function(){return x.moveNext(e)}}},e.prototype.values=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return x.mem(this.comparer,e,this.tree)},e.prototype.add=function(e){throw"not supported"},e.prototype.delete=function(e){throw"not supported"},e.prototype.clear=function(){throw"not supported"},e.isEmpty=function(e){return x.isEmpty(e.tree)},e.add=function(t,n){return e.from(n.comparer,x.add(n.comparer,t,n.tree))},e.addInPlace=function(e,t){return!t.has(e)&&(t.add(e),!0)},e.remove=function(t,n){return e.from(n.comparer,x.remove(n.comparer,t,n.tree))},e.union=function(t,n){return"SetEmpty"===n.tree.Case?t:"SetEmpty"===t.tree.Case?n:e.from(t.comparer,x.union(t.comparer,t.tree,n.tree))},e.unionInPlace=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;e.add(a)}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},e.unionMany=function(t){return w.fold(function(t,n){return e.union(n,t)},e.create(),t)},e.difference=function(t,n){return"SetEmpty"===t.tree.Case?t:"SetEmpty"===n.tree.Case?t:e.from(t.comparer,x.diff(t.comparer,t.tree,n.tree))},e.differenceInPlace=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;e.delete(a)}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},e.intersect=function(t,n){return"SetEmpty"===n.tree.Case?n:"SetEmpty"===t.tree.Case?t:e.from(t.comparer,x.intersection(t.comparer,t.tree,n.tree))},e.intersectInPlace=function(e,t){var n=t instanceof Set?t:new Set(t),r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;n.has(s)||e.delete(s)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}},e.intersectMany=function(t){return w.reduce(function(t,n){return e.intersect(t,n)},t)},e.isProperSubsetOf=function(t,n){return t instanceof e&&n instanceof e?x.psubset(t.comparer,t.tree,n.tree):(n=n instanceof Set?n:new Set(n),w.forAll(function(e){return n.has(e)},t)&&w.exists(function(e){return!t.has(e)},n))},e.isSubsetOf=function(t,n){return t instanceof e&&n instanceof e?x.subset(t.comparer,t.tree,n.tree):(n=n instanceof Set?n:new Set(n),w.forAll(function(e){return n.has(e)},t))},e.isProperSupersetOf=function(t,n){return t instanceof e&&n instanceof e?x.psubset(t.comparer,n.tree,t.tree):e.isProperSubset(n instanceof Set?n:new Set(n),t)},e.isSupersetOf=function(t,n){return t instanceof e&&n instanceof e?x.subset(t.comparer,n.tree,t.tree):e.isSubset(n instanceof Set?n:new Set(n),t)},e.copyTo=function(e,t,n,r){if(!Array.isArray(t)&&!ArrayBuffer.isView(t))throw"Array is invalid";r=r||t.length;for(var i=n||0,o=e[Symbol.iterator]();r--;){var u=o.next();if(u.done)break;t[i++]=u.value}},e.partition=function(t,n){if("SetEmpty"===n.tree.Case)return[n,n];var r=x.partition(n.comparer,t,n.tree);return[e.from(n.comparer,r[0]),e.from(n.comparer,r[1])]},e.filter=function(t,n){return"SetEmpty"===n.tree.Case?n:e.from(n.comparer,x.filter(n.comparer,t,n.tree))},e.map=function(t,n){var r=new p;return e.from(r,x.fold(function(e,n){return x.add(r,t(n),e)},new x("SetEmpty",[]),n.tree))},e.exists=function(e,t){return x.exists(e,t.tree)},e.forAll=function(e,t){return x.forall(e,t.tree)},e.fold=function(e,t,n){return x.fold(e,t,n.tree)},e.foldBack=function(e,t,n){return x.foldBack(e,t.tree,n)},e.iterate=function(e,t){x.iter(e,t.tree)},e.minimumElement=function(e){return x.minimumElement(e.tree)},e.maximumElement=function(e){return x.maximumElement(e.tree)},s(e,[{key:"size",get:function(){return x.count(this.tree)}}]),e}();O.op_Addition=O.union,O.op_Subtraction=O.difference,O.isProperSubset=O.isProperSubsetOf,O.isSubset=O.isSubsetOf,O.isProperSuperset=O.isProperSupersetOf,O.isSuperset=O.isSupersetOf,O.minElement=O.minimumElement,O.maxElement=O.maximumElement,d.setInterfaces(O.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpSet"),e.Set=O;var k=function(){function e(t,n){i(this,e),this.Case=t,this.Fields=n}return e.sizeAux=function(t,n){return"MapOne"===n.Case?t+1:"MapNode"===n.Case?e.sizeAux(e.sizeAux(t+1,n.Fields[2]),n.Fields[3]):t},e.size=function(t){return e.sizeAux(0,t)},e.empty=function(){return new e("MapEmpty",[])},e.height=function(e){return"MapOne"===e.Case?1:"MapNode"===e.Case?e.Fields[4]:0},e.isEmpty=function(e){return"MapEmpty"===e.Case},e.mk=function(t,n,r,i){var o=[t,i],u=function(){var o=e.height(t),u=e.height(i),a=o<u?u:o;return new e("MapNode",[n,r,t,i,a+1])};return"MapEmpty"===o[0].Case&&"MapEmpty"===o[1].Case?new e("MapOne",[n,r]):u()},e.rebalance=function(t,n,r,i){var o=e.height(t),u=e.height(i);if(u>o+2){if("MapNode"===i.Case){if(e.height(i.Fields[2])>o+1){if("MapNode"===i.Fields[2].Case)return e.mk(e.mk(t,n,r,i.Fields[2].Fields[2]),i.Fields[2].Fields[0],i.Fields[2].Fields[1],e.mk(i.Fields[2].Fields[3],i.Fields[0],i.Fields[1],i.Fields[3]));throw"rebalance"}return e.mk(e.mk(t,n,r,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3])}throw"rebalance"}if(o>u+2){if("MapNode"===t.Case){if(e.height(t.Fields[3])>u+1){if("MapNode"===t.Fields[3].Case)return e.mk(e.mk(t.Fields[2],t.Fields[0],t.Fields[1],t.Fields[3].Fields[2]),t.Fields[3].Fields[0],t.Fields[3].Fields[1],e.mk(t.Fields[3].Fields[3],n,r,i));throw"rebalance"}return e.mk(t.Fields[2],t.Fields[0],t.Fields[1],e.mk(t.Fields[3],n,r,i))}throw"rebalance"}return e.mk(t,n,r,i)},e.add=function(t,n,r,i){if("MapOne"===i.Case){var o=t.Compare(n,i.Fields[0]);return o<0?new e("MapNode",[n,r,new e("MapEmpty",[]),i,2]):0===o?new e("MapOne",[n,r]):new e("MapNode",[n,r,i,new e("MapEmpty",[]),2])}if("MapNode"===i.Case){var o=t.Compare(n,i.Fields[0]);return o<0?e.rebalance(e.add(t,n,r,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3]):0===o?new e("MapNode",[n,r,i.Fields[2],i.Fields[3],i.Fields[4]]):e.rebalance(i.Fields[2],i.Fields[0],i.Fields[1],e.add(t,n,r,i.Fields[3]))}return new e("MapOne",[n,r])},e.find=function(t,n,r){var i=e.tryFind(t,n,r);if(null!=i)return i;throw"key not found"},e.tryFind=function(t,n,r){if("MapOne"===r.Case){var i=t.Compare(n,r.Fields[0]);return 0===i?r.Fields[1]:null}if("MapNode"===r.Case){var i=t.Compare(n,r.Fields[0]);return i<0?e.tryFind(t,n,r.Fields[2]):0===i?r.Fields[1]:e.tryFind(t,n,r.Fields[3])}return null},e.partition1=function(t,n,r,i,o,u){return n(r,i)?[e.add(t,r,i,o),u]:[o,e.add(t,r,i,u)]},e.partitionAux=function(t,n,r,i,o){var u=[i,o];if("MapOne"===r.Case)return e.partition1(t,n,r.Fields[0],r.Fields[1],u[0],u[1]);if("MapNode"===r.Case){var a=e.partitionAux(t,n,r.Fields[3],u[0],u[1]),s=e.partition1(t,n,r.Fields[0],r.Fields[1],a[0],a[1]);return e.partitionAux(t,n,r.Fields[2],s[0],s[1])}return u},e.partition=function(t,n,r){return e.partitionAux(t,n,r,e.empty(),e.empty())},e.filter1=function(t,n,r,i,o){return n(r,i)?e.add(t,r,i,o):o},e.filterAux=function(t,n,r,i){return"MapOne"===r.Case?e.filter1(t,n,r.Fields[0],r.Fields[1],i):"MapNode"===r.Case?function(){var o=e.filterAux(t,n,r.Fields[2],i),u=e.filter1(t,n,r.Fields[0],r.Fields[1],o);return e.filterAux(t,n,r.Fields[3],u)}():i},e.filter=function(t,n,r){return e.filterAux(t,n,r,e.empty())},e.spliceOutSuccessor=function(t){if("MapOne"===t.Case)return[t.Fields[0],t.Fields[1],new e("MapEmpty",[])];if("MapNode"===t.Case){if("MapEmpty"===t.Fields[2].Case)return[t.Fields[0],t.Fields[1],t.Fields[3]];var n=e.spliceOutSuccessor(t.Fields[2]);return[n[0],n[1],e.mk(n[2],t.Fields[0],t.Fields[1],t.Fields[3])]}throw"internal error: Map.spliceOutSuccessor"},e.remove=function(t,n,r){if("MapOne"===r.Case){var i=t.Compare(n,r.Fields[0]);return 0===i?new e("MapEmpty",[]):r}if("MapNode"===r.Case){var i=t.Compare(n,r.Fields[0]);if(i<0)return e.rebalance(e.remove(t,n,r.Fields[2]),r.Fields[0],r.Fields[1],r.Fields[3]);if(0===i){var o=[r.Fields[2],r.Fields[3]];if("MapEmpty"===o[0].Case)return r.Fields[3];if("MapEmpty"===o[1].Case)return r.Fields[2];var u=e.spliceOutSuccessor(r.Fields[3]),a=u[1],s=u[0],l=u[2];return e.mk(r.Fields[2],s,a,l)}return e.rebalance(r.Fields[2],r.Fields[0],r.Fields[1],e.remove(t,n,r.Fields[3]))}return e.empty()},e.mem=function(t,n,r){return"MapOne"===r.Case?0===t.Compare(n,r.Fields[0]):"MapNode"===r.Case&&function(){var i=t.Compare(n,r.Fields[0]);return i<0?e.mem(t,n,r.Fields[2]):0===i||e.mem(t,n,r.Fields[3])}()},e.iter=function(t,n){"MapOne"===n.Case?t(n.Fields[0],n.Fields[1]):"MapNode"===n.Case&&(e.iter(t,n.Fields[2]),t(n.Fields[0],n.Fields[1]),e.iter(t,n.Fields[3]))},e.tryPick=function(t,n){return"MapOne"===n.Case?t(n.Fields[0],n.Fields[1]):"MapNode"===n.Case?function(){var r=e.tryPick(t,n.Fields[2]);if(null==r){var i=t(n.Fields[0],n.Fields[1]);if(null==i)return e.tryPick(t,n.Fields[3]);var o=i;return o}var o=r;return o}():null},e.exists=function(t,n){return"MapOne"===n.Case?t(n.Fields[0],n.Fields[1]):"MapNode"===n.Case&&(!(!e.exists(t,n.Fields[2])&&!t(n.Fields[0],n.Fields[1]))||e.exists(t,n.Fields[3]))},e.forall=function(t,n){return"MapOne"===n.Case?t(n.Fields[0],n.Fields[1]):"MapNode"!==n.Case||!(!e.forall(t,n.Fields[2])||!t(n.Fields[0],n.Fields[1]))&&e.forall(t,n.Fields[3])},e.mapi=function(t,n){return"MapOne"===n.Case?new e("MapOne",[n.Fields[0],t(n.Fields[0],n.Fields[1])]):"MapNode"===n.Case?function(){var r=e.mapi(t,n.Fields[2]),i=t(n.Fields[0],n.Fields[1]),o=e.mapi(t,n.Fields[3]);return new e("MapNode",[n.Fields[0],i,r,o,n.Fields[4]])}():e.empty()},e.foldBack=function(t,n,r){return"MapOne"===n.Case?t(n.Fields[0],n.Fields[1],r):"MapNode"===n.Case?function(){var i=e.foldBack(t,n.Fields[3],r),o=t(n.Fields[0],n.Fields[1],i);return e.foldBack(t,n.Fields[2],o)}():r},e.fold=function(t,n,r){return"MapOne"===r.Case?t(n,r.Fields[0],r.Fields[1]):"MapNode"===r.Case?function(){var i=e.fold(t,n,r.Fields[2]),o=t(i,r.Fields[0],r.Fields[1]);return e.fold(t,o,r.Fields[3])}():n},e.mkFromEnumerator=function(t,n,r){for(var i=r.next();!i.done;)n=e.add(t,i.value[0],i.value[1],n),i=r.next();return n},e.ofSeq=function(t,n){var r=n[Symbol.iterator]();return e.mkFromEnumerator(t,e.empty(),r)},e.collapseLHS=function(t){return null!=t.tail?"MapOne"===t.head.Case?t:"MapNode"===t.head.Case?e.collapseLHS(C.ofArray([t.head.Fields[2],new e("MapOne",[t.head.Fields[0],t.head.Fields[1]]),t.head.Fields[3]],t.tail)):e.collapseLHS(t.tail):new C},e.mkIterator=function(t){return{stack:e.collapseLHS(new C(t,new C)),started:!1}},e.moveNext=function(t){function n(e){if(null==e.stack.tail)return null;if("MapOne"===e.stack.head.Case)return[e.stack.head.Fields[0],e.stack.head.Fields[1]];throw"Please report error: Map iterator, unexpected stack for current"}if(t.started){if(null==t.stack.tail)return{done:!0};if("MapOne"===t.stack.head.Case)return t.stack=e.collapseLHS(t.stack.tail),{done:null==t.stack.tail,value:n(t)};throw"Please report error: Map iterator, unexpected stack for moveNext"}return t.started=!0,{done:null==t.stack.tail,value:n(t)}},e}(),E=function(){function e(){i(this,e)}return e.from=function(t,n){var r=new e;return r.tree=n,r.comparer=t||new p,r},e.create=function(t,n){return n=n||new p,e.from(n,t?k.ofSeq(n,t):k.empty())},e.prototype.ToString=function(){return"map ["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){var t=this;return w.compareWith(function(e,n){var r=t.comparer.Compare(e[0],n[0]);return 0!==r?r:d.compare(e[1],n[1])},this,e)},e.prototype[Symbol.iterator]=function(){var e=k.mkIterator(this.tree);return{next:function(){return k.moveNext(e)}}},e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.keys=function(){return w.map(function(e){return e[0]},this)},e.prototype.values=function(){return w.map(function(e){return e[1]},this)},e.prototype.get=function(e){return k.find(this.comparer,e,this.tree)},e.prototype.has=function(e){return k.mem(this.comparer,e,this.tree)},e.prototype.set=function(e,t){throw"not supported"},e.prototype.delete=function(e){throw"not supported"},e.prototype.clear=function(){throw"not supported"},e.add=function(t,n,r){return e.from(r.comparer,k.add(r.comparer,t,n,r.tree))},e.remove=function(t,n){return e.from(n.comparer,k.remove(n.comparer,t,n.tree))},e.containsValue=function(e,t){return w.fold(function(n,r){return n||d.equals(t.get(r),e)},!1,t.keys())},e.exists=function(e,t){return k.exists(e,t.tree)},e.find=function(e,t){return k.find(t.comparer,e,t.tree)},e.tryFind=function(e,t){return k.tryFind(t.comparer,e,t.tree)},e.filter=function(t,n){return e.from(n.comparer,k.filter(n.comparer,t,n.tree))},e.fold=function(e,t,n){return k.fold(e,t,n.tree)},e.foldBack=function(e,t,n){return k.foldBack(e,t.tree,n)},e.forAll=function(e,t){return k.forall(e,t.tree)},e.isEmpty=function(e){return k.isEmpty(e.tree)},e.iterate=function(e,t){k.iter(e,t.tree)},e.map=function(t,n){return e.from(n.comparer,k.mapi(t,n.tree))},e.partition=function(t,n){var r=k.partition(n.comparer,t,n.tree);return[e.from(n.comparer,r[0]),e.from(n.comparer,r[1])]},e.findKey=function(e,t){return w.pick(function(t){return e(t[0],t[1])?t[0]:null},t)},e.tryFindKey=function(e,t){return w.tryPick(function(t){return e(t[0],t[1])?t[0]:null},t)},e.pick=function(t,n){var r=e.tryPick(t,n);if(null!=r)return r;throw"key not found"},e.tryPick=function(e,t){return k.tryPick(e,t.tree)},s(e,[{key:"size",get:function(){return k.size(this.tree)}}]),e}();d.setInterfaces(E.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpMap"),e.Map=E;var A=e.Nothing=void 0,_=2e3,N=e.Trampoline=function(){function e(){i(this,e),this.callCount=0}return e.prototype.incrementAndCheck=function(){return this.callCount++>_},e.prototype.hijack=function(e){this.callCount=0,setTimeout(e,0)},e}(),M={protectedCont:function(e){return function(t){if(t.cancelToken.isCancelled)t.onCancel("cancelled");else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(function(){try{return e(t)}catch(e){t.onError(e)}});else try{return e(t)}catch(e){t.onError(e)}}},bind:function(e,t){return M.protectedCont(function(n){e({onSuccess:function(e){return t(e)(n)},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})},return:function(e){return M.protectedCont(function(t){return t.onSuccess(e)})}},I=e.AsyncBuilder=function(){function e(){i(this,e)}return e.prototype.Bind=function(e,t){return M.bind(e,t)},e.prototype.Combine=function(e,t){return this.Bind(e,function(){return t})},e.prototype.Delay=function(e){return M.protectedCont(function(t){return e()(t)})},e.prototype.For=function(e,t){var n=e[Symbol.iterator](),r=n.next();return this.While(function(){return!r.done},this.Delay(function(){var e=t(r.value);return r=n.next(),e}))},e.prototype.Return=function(e){return M.return(e)},e.prototype.ReturnFrom=function(e){return e},e.prototype.TryFinally=function(e,t){return M.protectedCont(function(n){e({onSuccess:function(e){t(),n.onSuccess(e)},onError:function(e){t(),n.onError(e)},onCancel:function(e){t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})},e.prototype.TryWith=function(e,t){return M.protectedCont(function(n){e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(e){return t(e)(n)}})})},e.prototype.Using=function(e,t){return this.TryFinally(t(e),function(){return e.Dispose()})},e.prototype.While=function(e,t){var n=this;return e()?this.Bind(t,function(){return n.While(e,t)}):this.Return(A)},e.prototype.Zero=function(){return M.protectedCont(function(e){return e.onSuccess(A)})},e}();I.singleton=new I;var T=e.Async=function(){function e(){i(this,e)}return e.awaitPromise=function(t){return e.fromContinuations(function(e){return t.then(e[0]).catch(function(t){return("cancelled"==t?e[2]:e[1])(t)})})},e.catch=function(e){
return M.protectedCont(function(t){e({onSuccess:function(e){return t.onSuccess(m.Choice1Of2(e))},onError:function(e){return t.onSuccess(m.Choice2Of2(e))},onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})},e.fromContinuations=function(e){return M.protectedCont(function(t){return e([t.onSuccess,t.onError,t.onCancel])})},e.ignore=function(e){return M.bind(e,function(e){return M.return(A)})},e.parallel=function(t){return e.awaitPromise(Promise.all(w.map(function(t){return e.startAsPromise(t)},t)))},e.sleep=function(e){return M.protectedCont(function(t){setTimeout(function(){return t.cancelToken.isCancelled?t.onCancel("cancelled"):t.onSuccess(A)},e)})},e.start=function(t,n){return e.startWithContinuations(t,n)},e.emptyContinuation=function(e){},e.startWithContinuations=function(t,n,r,i,o){"function"!=typeof n&&(o=n,n=null);var u=new N;t({onSuccess:n?n:e.emptyContinuation,onError:r?r:e.emptyContinuation,onCancel:i?i:e.emptyContinuation,cancelToken:o?o:e.defaultCancellationToken,trampoline:u})},e.startAsPromise=function(t,n){return new Promise(function(r,i){return e.startWithContinuations(t,r,i,i,n?n:e.defaultCancellationToken)})},s(e,null,[{key:"cancellationToken",get:function(){return M.protectedCont(function(e){return e.onSuccess(e.cancelToken)})}}]),e}();T.defaultCancellationToken={isCancelled:!1},T.startImmediate=T.start;var P=function e(t){i(this,e),this.value=t},B=function(){function e(){i(this,e)}return e.prototype.add=function(e){var t=new P(e);this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]},e.prototype.tryGet=function(){if(this.firstAndLast){var e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}},e}(),L=(e.MailboxProcessor=function(){function e(t,n){i(this,e),this.body=t,this.cancellationToken=n||T.defaultCancellationToken,this.messages=new B}return e.start=function(t,n){var r=new e(t,n);return r.start(),r},e.prototype.__processEvents=function(){if(this.continuation){var e=this.messages.tryGet();if(e){var t=this.continuation;delete this.continuation,t(e)}}},e.prototype.start=function(){T.startImmediate(this.body(this),this.cancellationToken)},e.prototype.receive=function(){var e=this;return T.fromContinuations(function(t){if(e.continuation)throw"Receive can only be called once!";e.continuation=t[0],e.__processEvents()})},e.prototype.post=function(e){this.messages.add(e),this.__processEvents()},e.prototype.postAndAsyncReply=function(e){function t(){n&&r&&r(n)}var n=void 0,r=void 0,i={reply:function(e){n=e,t()}};return this.messages.add(e(i)),this.__processEvents(),T.fromContinuations(function(e){r=e[0],t()})},e}(),function e(t,n,r){i(this,e),this.OnNext=t,this.OnError=n||function(e){},this.OnCompleted=r||function(){}});d.setInterfaces(L.prototype,["System.IObserver"]);var D=function e(t){i(this,e),this.Subscribe=t};d.setInterfaces(D.prototype,["System.IObservable"]);var j=function(){function e(){i(this,e)}return e.__protect=function(e,t,n){try{return t(e())}catch(e){n(e)}},e.add=function(e,t){t.Subscribe(new L(e))},e.choose=function(t,n){return new D(function(r){return n.Subscribe(new L(function(n){return e.__protect(function(){return t(n)},function(e){null!=e&&r.OnNext(e)},r.OnError)},r.OnError,r.OnCompleted))})},e.filter=function(t,n){return e.choose(function(e){return t(e)?e:null},n)},e.map=function(t,n){return new D(function(r){return n.Subscribe(new L(function(n){e.__protect(function(){return t(n)},r.OnNext,r.OnError)},r.OnError,r.OnCompleted))})},e.merge=function(e,t){return new D(function(n){var r=!1,i=!1,o=!1,u=e.Subscribe(new L(function(e){r||n.OnNext(e)},function(e){r||(r=!0,n.OnError(e))},function(){r||(i=!0,o&&(r=!0,n.OnCompleted()))})),a=t.Subscribe(new L(function(e){r||n.OnNext(e)},function(e){r||(r=!0,n.OnError(e))},function(){r||(o=!0,i&&(r=!0,n.OnCompleted()))}));return d.createDisposable(function(){u.Dispose(),a.Dispose()})})},e.pairwise=function(e){return new D(function(t){var n=null;return e.Subscribe(new L(function(e){null!=n&&t.OnNext([n,e]),n=e},t.OnError,t.OnCompleted))})},e.partition=function(t,n){return o(e.filter(t,n),e.filter(function(e){return!t(e)},n))},e.scan=function(t,n,r){return new D(function(i){return r.Subscribe(new L(function(r){e.__protect(function(){return t(n,r)},function(e){n=e,i.OnNext(e)},i.OnError)},i.OnError,i.OnCompleted))})},e.split=function(t,n){return o(e.choose(function(e){return t(e).valueIfChoice1},n),e.choose(function(e){return t(e).valueIfChoice2},n))},e.subscribe=function(e,t){return t.Subscribe(new L(e))},e}();e.Observable=j;var R=e.Event=function(){function e(t,n){i(this,e),this._subscriber=t,this.delegates=n||new Array}return e.prototype.Add=function(e){this._addHandler(e)},e.prototype.Trigger=function(e){w.iterate(function(t){return t(e)},this.delegates)},e.prototype._addHandler=function(e){this.delegates.push(e)},e.prototype._removeHandler=function(e){var t=this.delegates.findIndex(function(t){return""+t==""+e});t>-1&&this.delegates.splice(t,1)},e.prototype.AddHandler=function(e){this._addHandler(function(t){return e(void 0,t)})},e.prototype.RemoveHandler=function(e){this._removeHandler(function(t){return e(void 0,t)})},e.prototype._subscribeFromObserver=function(e){var t=this;if(this._subscriber)return this._subscriber(e);var n=e.OnNext;return this._addHandler(n),d.createDisposable(function(){return t._removeHandler(n)})},e.prototype._subscribeFromCallback=function(e){var t=this;return this._addHandler(e),d.createDisposable(function(){return t._removeHandler(e)})},e.prototype.Subscribe=function(e){return"function"==typeof e?this._subscribeFromCallback(e):this._subscribeFromObserver(e)},e.add=function(e,t){t.Subscribe(new L(e))},e.choose=function(t,n){var r=n;return new e(function(e){return r.Subscribe(new L(function(n){return j.__protect(function(){return t(n)},function(t){null!=t&&e.OnNext(t)},e.OnError)},e.OnError,e.OnCompleted))},r.delegates)},e.filter=function(t,n){return e.choose(function(e){return t(e)?e:null},n)},e.map=function(t,n){var r=n;return new e(function(e){return r.Subscribe(new L(function(n){return j.__protect(function(){return t(n)},e.OnNext,e.OnError)},e.OnError,e.OnCompleted))},r.delegates)},e.merge=function(t,n){var r=t,i=n;return new e(function(e){var t=!1,n=!1,o=!1,u=r.Subscribe(new L(function(n){t||e.OnNext(n)},function(n){t||(t=!0,e.OnError(n))},function(){t||(n=!0,o&&(t=!0,e.OnCompleted()))})),a=i.Subscribe(new L(function(n){t||e.OnNext(n)},function(n){t||(t=!0,e.OnError(n))},function(){t||(o=!0,n&&(t=!0,e.OnCompleted()))}));return d.createDisposable(function(){u.Dispose(),a.Dispose()})},r.delegates.concat(i.delegates))},e.pairwise=function(t){var n=t;return new e(function(e){var t=null;return n.Subscribe(new L(function(n){null!=t&&e.OnNext([t,n]),t=n},e.OnError,e.OnCompleted))},n.delegates)},e.partition=function(t,n){return o(e.filter(t,n),e.filter(function(e){return!t(e)},n))},e.scan=function(t,n,r){var i=r;return new e(function(e){return i.Subscribe(new L(function(r){j.__protect(function(){return t(n,r)},function(t){n=t,e.OnNext(t)},e.OnError)},e.OnError,e.OnCompleted))},i.delegates)},e.split=function(t,n){return o(e.choose(function(e){return t(e).valueIfChoice1},n),e.choose(function(e){return t(e).valueIfChoice2},n))},s(e,[{key:"Publish",get:function(){return this}}]),e}();e.Lazy=function(){function e(t){i(this,e),this.factory=t,this.isValueCreated=!1}return e.createFromValue=function(t){return new e(function(){return t})},s(e,[{key:"value",get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}}]),e}()});